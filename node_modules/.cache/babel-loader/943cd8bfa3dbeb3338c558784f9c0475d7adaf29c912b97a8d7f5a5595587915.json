{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider } from './context';\nimport Indicators from './indicators';\nimport { useChildrenRegister, usePrevious } from '../../libs/hooks';\nimport { getHeight, getItemIndex } from './helpers';\nimport AnimationButton from './animationButton';\nimport StyledContainer from './styled/container';\nimport StyledAutoplay from './styled/autoplay';\nimport StyledImagesUl from './styled/imagesUl';\nvar SELECTOR = '[role=\"tabpanel\"]';\nvar CarouselCard = function CarouselCard(props) {\n  var children = props.children,\n    id = props.id,\n    className = props.className,\n    style = props.style,\n    scrollDuration = props.scrollDuration,\n    disableAutoScroll = props.disableAutoScroll,\n    disableAutoRefresh = props.disableAutoRefresh;\n  var containerRef = useRef();\n  var listRef = useRef();\n  var animationTimeoutRef = useRef();\n  var _useState = useState(disableAutoScroll),\n    _useState2 = _slicedToArray(_useState, 2),\n    isAnimationPaused = _useState2[0],\n    setIsAnimationPaused = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    activeItem = _useState4[0],\n    setActiveItem = _useState4[1];\n  var prevActiveItem = usePrevious(activeItem);\n  var _useChildrenRegister = useChildrenRegister({\n      containerRef: listRef,\n      selector: SELECTOR\n    }),\n    childrenRegistered = _useChildrenRegister.childrenRegistered,\n    register = _useChildrenRegister.register,\n    unregister = _useChildrenRegister.unregister;\n  useEffect(function () {\n    if (childrenRegistered[0] && childrenRegistered[0].id !== activeItem) {\n      setActiveItem(childrenRegistered[0].id);\n    }\n  }, [childrenRegistered]);\n  useEffect(function () {\n    if (!isAnimationPaused) {\n      animationTimeoutRef.current = setTimeout(function () {\n        var selectedItemIndex = getItemIndex(childrenRegistered, activeItem);\n        var isLastItem = selectedItemIndex === childrenRegistered.length - 1;\n        var nextItem = isLastItem ? 0 : selectedItemIndex + 1;\n        if (isLastItem && disableAutoRefresh) {\n          setIsAnimationPaused(true);\n        } else if (childrenRegistered[nextItem]) {\n          setActiveItem(childrenRegistered[nextItem].id);\n        }\n      }, scrollDuration * 1000);\n    }\n    return function () {\n      if (animationTimeoutRef.current) {\n        clearTimeout(animationTimeoutRef.current);\n      }\n    };\n  }, [activeItem, childrenRegistered, disableAutoRefresh, isAnimationPaused, scrollDuration]);\n  var handleSelect = function handleSelect(childId) {\n    setActiveItem(childId);\n    setIsAnimationPaused(true);\n  };\n  var containerStyle = _objectSpread({\n    height: getHeight(containerRef.current)\n  }, style);\n  var context = {\n    childrenRegistered: childrenRegistered,\n    activeItem: activeItem,\n    prevActiveItem: prevActiveItem,\n    isAnimationPaused: isAnimationPaused,\n    register: register,\n    unregister: unregister\n  };\n  return React.createElement(StyledContainer, {\n    className: className,\n    style: containerStyle,\n    id: id,\n    ref: containerRef\n  }, React.createElement(StyledAutoplay, null, React.createElement(AnimationButton, {\n    onClick: function onClick() {\n      return setIsAnimationPaused(!isAnimationPaused);\n    },\n    isAnimationPaused: isAnimationPaused\n  })), React.createElement(StyledImagesUl, {\n    ref: listRef\n  }, React.createElement(Provider, {\n    value: context\n  }, children)), React.createElement(Indicators, {\n    carouselChildren: childrenRegistered,\n    onSelect: handleSelect,\n    selectedItem: activeItem\n  }));\n};\nCarouselCard.propTypes = {\n  scrollDuration: PropTypes.number,\n  disableAutoScroll: PropTypes.bool,\n  disableAutoRefresh: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  children: PropTypes.node,\n  id: PropTypes.string\n};\nCarouselCard.defaultProps = {\n  scrollDuration: 5,\n  disableAutoScroll: false,\n  disableAutoRefresh: false,\n  className: undefined,\n  style: undefined,\n  children: null,\n  id: undefined\n};\nexport default CarouselCard;","map":{"version":3,"names":["_defineProperty","_slicedToArray","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","useEffect","useRef","useState","PropTypes","Provider","Indicators","useChildrenRegister","usePrevious","getHeight","getItemIndex","AnimationButton","StyledContainer","StyledAutoplay","StyledImagesUl","SELECTOR","CarouselCard","props","children","id","className","style","scrollDuration","disableAutoScroll","disableAutoRefresh","containerRef","listRef","animationTimeoutRef","_useState","_useState2","isAnimationPaused","setIsAnimationPaused","_useState3","_useState4","activeItem","setActiveItem","prevActiveItem","_useChildrenRegister","selector","childrenRegistered","register","unregister","current","setTimeout","selectedItemIndex","isLastItem","nextItem","clearTimeout","handleSelect","childId","containerStyle","height","context","createElement","ref","onClick","value","carouselChildren","onSelect","selectedItem","propTypes","number","bool","string","node","defaultProps","undefined"],"sources":["/home/kali/Desktop/react/React_Shopping_web/node_modules/react-rainbow-components/esm/components/CarouselCard/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider } from './context';\nimport Indicators from './indicators';\nimport { useChildrenRegister, usePrevious } from '../../libs/hooks';\nimport { getHeight, getItemIndex } from './helpers';\nimport AnimationButton from './animationButton';\nimport StyledContainer from './styled/container';\nimport StyledAutoplay from './styled/autoplay';\nimport StyledImagesUl from './styled/imagesUl';\nvar SELECTOR = '[role=\"tabpanel\"]';\n\nvar CarouselCard = function CarouselCard(props) {\n  var children = props.children,\n      id = props.id,\n      className = props.className,\n      style = props.style,\n      scrollDuration = props.scrollDuration,\n      disableAutoScroll = props.disableAutoScroll,\n      disableAutoRefresh = props.disableAutoRefresh;\n  var containerRef = useRef();\n  var listRef = useRef();\n  var animationTimeoutRef = useRef();\n\n  var _useState = useState(disableAutoScroll),\n      _useState2 = _slicedToArray(_useState, 2),\n      isAnimationPaused = _useState2[0],\n      setIsAnimationPaused = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeItem = _useState4[0],\n      setActiveItem = _useState4[1];\n\n  var prevActiveItem = usePrevious(activeItem);\n\n  var _useChildrenRegister = useChildrenRegister({\n    containerRef: listRef,\n    selector: SELECTOR\n  }),\n      childrenRegistered = _useChildrenRegister.childrenRegistered,\n      register = _useChildrenRegister.register,\n      unregister = _useChildrenRegister.unregister;\n\n  useEffect(function () {\n    if (childrenRegistered[0] && childrenRegistered[0].id !== activeItem) {\n      setActiveItem(childrenRegistered[0].id);\n    }\n  }, [childrenRegistered]);\n  useEffect(function () {\n    if (!isAnimationPaused) {\n      animationTimeoutRef.current = setTimeout(function () {\n        var selectedItemIndex = getItemIndex(childrenRegistered, activeItem);\n        var isLastItem = selectedItemIndex === childrenRegistered.length - 1;\n        var nextItem = isLastItem ? 0 : selectedItemIndex + 1;\n\n        if (isLastItem && disableAutoRefresh) {\n          setIsAnimationPaused(true);\n        } else if (childrenRegistered[nextItem]) {\n          setActiveItem(childrenRegistered[nextItem].id);\n        }\n      }, scrollDuration * 1000);\n    }\n\n    return function () {\n      if (animationTimeoutRef.current) {\n        clearTimeout(animationTimeoutRef.current);\n      }\n    };\n  }, [activeItem, childrenRegistered, disableAutoRefresh, isAnimationPaused, scrollDuration]);\n\n  var handleSelect = function handleSelect(childId) {\n    setActiveItem(childId);\n    setIsAnimationPaused(true);\n  };\n\n  var containerStyle = _objectSpread({\n    height: getHeight(containerRef.current)\n  }, style);\n\n  var context = {\n    childrenRegistered: childrenRegistered,\n    activeItem: activeItem,\n    prevActiveItem: prevActiveItem,\n    isAnimationPaused: isAnimationPaused,\n    register: register,\n    unregister: unregister\n  };\n  return React.createElement(StyledContainer, {\n    className: className,\n    style: containerStyle,\n    id: id,\n    ref: containerRef\n  }, React.createElement(StyledAutoplay, null, React.createElement(AnimationButton, {\n    onClick: function onClick() {\n      return setIsAnimationPaused(!isAnimationPaused);\n    },\n    isAnimationPaused: isAnimationPaused\n  })), React.createElement(StyledImagesUl, {\n    ref: listRef\n  }, React.createElement(Provider, {\n    value: context\n  }, children)), React.createElement(Indicators, {\n    carouselChildren: childrenRegistered,\n    onSelect: handleSelect,\n    selectedItem: activeItem\n  }));\n};\n\nCarouselCard.propTypes = {\n  scrollDuration: PropTypes.number,\n  disableAutoScroll: PropTypes.bool,\n  disableAutoRefresh: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  children: PropTypes.node,\n  id: PropTypes.string\n};\nCarouselCard.defaultProps = {\n  scrollDuration: 5,\n  disableAutoScroll: false,\n  disableAutoRefresh: false,\n  className: undefined,\n  style: undefined,\n  children: null,\n  id: undefined\n};\nexport default CarouselCard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}