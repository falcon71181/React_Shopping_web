{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useContext } from 'react';\nimport { UP_KEY, DOWN_KEY, RIGHT_KEY, LEFT_KEY } from '../../../../libs/constants';\nimport { hsvToRgb, rgbToRgba, recomposeColor, decomposeColor, rgbaToHex } from '../../../../styles/helpers/color';\nimport { StyledColor, StyledCircle } from './styled';\nimport { ColorPickerContext } from '../../context';\nimport { calculateSaturation, calculateBright } from './helpers';\nvar Saturation = React.forwardRef(function (_props, ref) {\n  var _keyHandlerMap;\n  var _useContext = useContext(ColorPickerContext),\n    rgba = _useContext.rgba,\n    hsv = _useContext.hsv,\n    tabIndex = _useContext.tabIndex,\n    onChange = _useContext.onChange;\n  var containerRef = useRef();\n  var isMouseDown = useRef(false);\n  var _hsv = _slicedToArray(hsv, 3),\n    h = _hsv[0],\n    s = _hsv[1],\n    v = _hsv[2];\n  var a = rgba[3];\n  var change = function change(_ref) {\n    var saturation = _ref.saturation,\n      bright = _ref.bright;\n    if (saturation >= 0) {\n      hsv[1] = saturation;\n    }\n    if (bright >= 0) {\n      hsv[2] = bright;\n    }\n    var rgbaColor = rgbToRgba(hsvToRgb(recomposeColor({\n      type: 'hsv',\n      values: hsv\n    })), a);\n    onChange({\n      hex: \"#\".concat(rgbaToHex(rgbaColor)),\n      rgba: decomposeColor(rgbaColor).values,\n      hsv: hsv\n    });\n  };\n  var handleChange = function handleChange(event) {\n    var rect = containerRef.current.getBoundingClientRect();\n    var saturation = calculateSaturation(event, rect);\n    var bright = calculateBright(event, rect);\n    change({\n      saturation: saturation,\n      bright: bright\n    });\n  };\n  var handleMouseDown = function handleMouseDown(event) {\n    handleChange(event);\n    isMouseDown.current = true;\n  };\n  var handleMouseMove = function handleMouseMove(event) {\n    if (isMouseDown.current) {\n      handleChange(event);\n    }\n  };\n  var handleMouseUp = function handleMouseUp() {\n    isMouseDown.current = false;\n  };\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (isMouseDown.current) {\n      handleChange(event);\n      isMouseDown.current = false;\n    }\n  };\n  var keyHandlerMap = (_keyHandlerMap = {}, _defineProperty(_keyHandlerMap, UP_KEY, function () {\n    var bright = Math.min(100, v + 1);\n    change({\n      bright: bright\n    });\n  }), _defineProperty(_keyHandlerMap, DOWN_KEY, function () {\n    var bright = Math.max(0, v - 1);\n    change({\n      bright: bright\n    });\n  }), _defineProperty(_keyHandlerMap, LEFT_KEY, function () {\n    var saturation = Math.max(0, s - 1);\n    change({\n      saturation: saturation\n    });\n  }), _defineProperty(_keyHandlerMap, RIGHT_KEY, function () {\n    var saturation = Math.min(100, s + 1);\n    change({\n      saturation: saturation\n    });\n  }), _keyHandlerMap);\n  var handleKeyDown = function handleKeyDown(event) {\n    var keyCode = event.keyCode;\n    if (keyHandlerMap[keyCode]) {\n      event.preventDefault();\n      keyHandlerMap[keyCode]();\n    }\n  };\n  var handleClick = function handleClick() {\n    ref.current.focus();\n  };\n  var hsl = \"hsl(\".concat(h, \",100%, 50%)\");\n  var styleColor = {\n    background: hsl\n  };\n  var stylePointer = {\n    top: \"\".concat(100 - v, \"%\"),\n    left: \"\".concat(s, \"%\")\n  };\n  return React.createElement(StyledColor, {\n    ref: containerRef,\n    style: styleColor,\n    onTouchMove: handleChange,\n    onTouchStart: handleChange,\n    onKeyDown: handleKeyDown,\n    onMouseDown: handleMouseDown,\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  }, React.createElement(StyledCircle, {\n    ref: ref,\n    type: \"button\",\n    tabIndex: tabIndex,\n    style: stylePointer\n  }));\n});\nexport default Saturation;","map":{"version":3,"names":["_defineProperty","_slicedToArray","React","useRef","useContext","UP_KEY","DOWN_KEY","RIGHT_KEY","LEFT_KEY","hsvToRgb","rgbToRgba","recomposeColor","decomposeColor","rgbaToHex","StyledColor","StyledCircle","ColorPickerContext","calculateSaturation","calculateBright","Saturation","forwardRef","_props","ref","_keyHandlerMap","_useContext","rgba","hsv","tabIndex","onChange","containerRef","isMouseDown","_hsv","h","s","v","a","change","_ref","saturation","bright","rgbaColor","type","values","hex","concat","handleChange","event","rect","current","getBoundingClientRect","handleMouseDown","handleMouseMove","handleMouseUp","handleMouseLeave","keyHandlerMap","Math","min","max","handleKeyDown","keyCode","preventDefault","handleClick","focus","hsl","styleColor","background","stylePointer","top","left","createElement","style","onTouchMove","onTouchStart","onKeyDown","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onClick"],"sources":["/home/kali/Desktop/react/React_Shopping_web/node_modules/react-rainbow-components/esm/components/ColorPicker/commons/saturation/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useContext } from 'react';\nimport { UP_KEY, DOWN_KEY, RIGHT_KEY, LEFT_KEY } from '../../../../libs/constants';\nimport { hsvToRgb, rgbToRgba, recomposeColor, decomposeColor, rgbaToHex } from '../../../../styles/helpers/color';\nimport { StyledColor, StyledCircle } from './styled';\nimport { ColorPickerContext } from '../../context';\nimport { calculateSaturation, calculateBright } from './helpers';\nvar Saturation = React.forwardRef(function (_props, ref) {\n  var _keyHandlerMap;\n\n  var _useContext = useContext(ColorPickerContext),\n      rgba = _useContext.rgba,\n      hsv = _useContext.hsv,\n      tabIndex = _useContext.tabIndex,\n      onChange = _useContext.onChange;\n\n  var containerRef = useRef();\n  var isMouseDown = useRef(false);\n\n  var _hsv = _slicedToArray(hsv, 3),\n      h = _hsv[0],\n      s = _hsv[1],\n      v = _hsv[2];\n\n  var a = rgba[3];\n\n  var change = function change(_ref) {\n    var saturation = _ref.saturation,\n        bright = _ref.bright;\n\n    if (saturation >= 0) {\n      hsv[1] = saturation;\n    }\n\n    if (bright >= 0) {\n      hsv[2] = bright;\n    }\n\n    var rgbaColor = rgbToRgba(hsvToRgb(recomposeColor({\n      type: 'hsv',\n      values: hsv\n    })), a);\n    onChange({\n      hex: \"#\".concat(rgbaToHex(rgbaColor)),\n      rgba: decomposeColor(rgbaColor).values,\n      hsv: hsv\n    });\n  };\n\n  var handleChange = function handleChange(event) {\n    var rect = containerRef.current.getBoundingClientRect();\n    var saturation = calculateSaturation(event, rect);\n    var bright = calculateBright(event, rect);\n    change({\n      saturation: saturation,\n      bright: bright\n    });\n  };\n\n  var handleMouseDown = function handleMouseDown(event) {\n    handleChange(event);\n    isMouseDown.current = true;\n  };\n\n  var handleMouseMove = function handleMouseMove(event) {\n    if (isMouseDown.current) {\n      handleChange(event);\n    }\n  };\n\n  var handleMouseUp = function handleMouseUp() {\n    isMouseDown.current = false;\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (isMouseDown.current) {\n      handleChange(event);\n      isMouseDown.current = false;\n    }\n  };\n\n  var keyHandlerMap = (_keyHandlerMap = {}, _defineProperty(_keyHandlerMap, UP_KEY, function () {\n    var bright = Math.min(100, v + 1);\n    change({\n      bright: bright\n    });\n  }), _defineProperty(_keyHandlerMap, DOWN_KEY, function () {\n    var bright = Math.max(0, v - 1);\n    change({\n      bright: bright\n    });\n  }), _defineProperty(_keyHandlerMap, LEFT_KEY, function () {\n    var saturation = Math.max(0, s - 1);\n    change({\n      saturation: saturation\n    });\n  }), _defineProperty(_keyHandlerMap, RIGHT_KEY, function () {\n    var saturation = Math.min(100, s + 1);\n    change({\n      saturation: saturation\n    });\n  }), _keyHandlerMap);\n\n  var handleKeyDown = function handleKeyDown(event) {\n    var keyCode = event.keyCode;\n\n    if (keyHandlerMap[keyCode]) {\n      event.preventDefault();\n      keyHandlerMap[keyCode]();\n    }\n  };\n\n  var handleClick = function handleClick() {\n    ref.current.focus();\n  };\n\n  var hsl = \"hsl(\".concat(h, \",100%, 50%)\");\n  var styleColor = {\n    background: hsl\n  };\n  var stylePointer = {\n    top: \"\".concat(100 - v, \"%\"),\n    left: \"\".concat(s, \"%\")\n  };\n  return React.createElement(StyledColor, {\n    ref: containerRef,\n    style: styleColor,\n    onTouchMove: handleChange,\n    onTouchStart: handleChange,\n    onKeyDown: handleKeyDown,\n    onMouseDown: handleMouseDown,\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  }, React.createElement(StyledCircle, {\n    ref: ref,\n    type: \"button\",\n    tabIndex: tabIndex,\n    style: stylePointer\n  }));\n});\nexport default Saturation;"],"mappings":"AAAA,OAAOA,eAAe,MAAM,uCAAuC;AACnE,OAAOC,cAAc,MAAM,sCAAsC;AACjE,OAAOC,KAAK,IAAIC,MAAM,EAAEC,UAAU,QAAQ,OAAO;AACjD,SAASC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,4BAA4B;AAClF,SAASC,QAAQ,EAAEC,SAAS,EAAEC,cAAc,EAAEC,cAAc,EAAEC,SAAS,QAAQ,kCAAkC;AACjH,SAASC,WAAW,EAAEC,YAAY,QAAQ,UAAU;AACpD,SAASC,kBAAkB,QAAQ,eAAe;AAClD,SAASC,mBAAmB,EAAEC,eAAe,QAAQ,WAAW;AAChE,IAAIC,UAAU,GAAGjB,KAAK,CAACkB,UAAU,CAAC,UAAUC,MAAM,EAAEC,GAAG,EAAE;EACvD,IAAIC,cAAc;EAElB,IAAIC,WAAW,GAAGpB,UAAU,CAACY,kBAAkB,CAAC;IAC5CS,IAAI,GAAGD,WAAW,CAACC,IAAI;IACvBC,GAAG,GAAGF,WAAW,CAACE,GAAG;IACrBC,QAAQ,GAAGH,WAAW,CAACG,QAAQ;IAC/BC,QAAQ,GAAGJ,WAAW,CAACI,QAAQ;EAEnC,IAAIC,YAAY,GAAG1B,MAAM,CAAC,CAAC;EAC3B,IAAI2B,WAAW,GAAG3B,MAAM,CAAC,KAAK,CAAC;EAE/B,IAAI4B,IAAI,GAAG9B,cAAc,CAACyB,GAAG,EAAE,CAAC,CAAC;IAC7BM,CAAC,GAAGD,IAAI,CAAC,CAAC,CAAC;IACXE,CAAC,GAAGF,IAAI,CAAC,CAAC,CAAC;IACXG,CAAC,GAAGH,IAAI,CAAC,CAAC,CAAC;EAEf,IAAII,CAAC,GAAGV,IAAI,CAAC,CAAC,CAAC;EAEf,IAAIW,MAAM,GAAG,SAASA,MAAMA,CAACC,IAAI,EAAE;IACjC,IAAIC,UAAU,GAAGD,IAAI,CAACC,UAAU;MAC5BC,MAAM,GAAGF,IAAI,CAACE,MAAM;IAExB,IAAID,UAAU,IAAI,CAAC,EAAE;MACnBZ,GAAG,CAAC,CAAC,CAAC,GAAGY,UAAU;IACrB;IAEA,IAAIC,MAAM,IAAI,CAAC,EAAE;MACfb,GAAG,CAAC,CAAC,CAAC,GAAGa,MAAM;IACjB;IAEA,IAAIC,SAAS,GAAG9B,SAAS,CAACD,QAAQ,CAACE,cAAc,CAAC;MAChD8B,IAAI,EAAE,KAAK;MACXC,MAAM,EAAEhB;IACV,CAAC,CAAC,CAAC,EAAES,CAAC,CAAC;IACPP,QAAQ,CAAC;MACPe,GAAG,EAAE,GAAG,CAACC,MAAM,CAAC/B,SAAS,CAAC2B,SAAS,CAAC,CAAC;MACrCf,IAAI,EAAEb,cAAc,CAAC4B,SAAS,CAAC,CAACE,MAAM;MACtChB,GAAG,EAAEA;IACP,CAAC,CAAC;EACJ,CAAC;EAED,IAAImB,YAAY,GAAG,SAASA,YAAYA,CAACC,KAAK,EAAE;IAC9C,IAAIC,IAAI,GAAGlB,YAAY,CAACmB,OAAO,CAACC,qBAAqB,CAAC,CAAC;IACvD,IAAIX,UAAU,GAAGrB,mBAAmB,CAAC6B,KAAK,EAAEC,IAAI,CAAC;IACjD,IAAIR,MAAM,GAAGrB,eAAe,CAAC4B,KAAK,EAAEC,IAAI,CAAC;IACzCX,MAAM,CAAC;MACLE,UAAU,EAAEA,UAAU;MACtBC,MAAM,EAAEA;IACV,CAAC,CAAC;EACJ,CAAC;EAED,IAAIW,eAAe,GAAG,SAASA,eAAeA,CAACJ,KAAK,EAAE;IACpDD,YAAY,CAACC,KAAK,CAAC;IACnBhB,WAAW,CAACkB,OAAO,GAAG,IAAI;EAC5B,CAAC;EAED,IAAIG,eAAe,GAAG,SAASA,eAAeA,CAACL,KAAK,EAAE;IACpD,IAAIhB,WAAW,CAACkB,OAAO,EAAE;MACvBH,YAAY,CAACC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,IAAIM,aAAa,GAAG,SAASA,aAAaA,CAAA,EAAG;IAC3CtB,WAAW,CAACkB,OAAO,GAAG,KAAK;EAC7B,CAAC;EAED,IAAIK,gBAAgB,GAAG,SAASA,gBAAgBA,CAACP,KAAK,EAAE;IACtD,IAAIhB,WAAW,CAACkB,OAAO,EAAE;MACvBH,YAAY,CAACC,KAAK,CAAC;MACnBhB,WAAW,CAACkB,OAAO,GAAG,KAAK;IAC7B;EACF,CAAC;EAED,IAAIM,aAAa,IAAI/B,cAAc,GAAG,CAAC,CAAC,EAAEvB,eAAe,CAACuB,cAAc,EAAElB,MAAM,EAAE,YAAY;IAC5F,IAAIkC,MAAM,GAAGgB,IAAI,CAACC,GAAG,CAAC,GAAG,EAAEtB,CAAC,GAAG,CAAC,CAAC;IACjCE,MAAM,CAAC;MACLG,MAAM,EAAEA;IACV,CAAC,CAAC;EACJ,CAAC,CAAC,EAAEvC,eAAe,CAACuB,cAAc,EAAEjB,QAAQ,EAAE,YAAY;IACxD,IAAIiC,MAAM,GAAGgB,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEvB,CAAC,GAAG,CAAC,CAAC;IAC/BE,MAAM,CAAC;MACLG,MAAM,EAAEA;IACV,CAAC,CAAC;EACJ,CAAC,CAAC,EAAEvC,eAAe,CAACuB,cAAc,EAAEf,QAAQ,EAAE,YAAY;IACxD,IAAI8B,UAAU,GAAGiB,IAAI,CAACE,GAAG,CAAC,CAAC,EAAExB,CAAC,GAAG,CAAC,CAAC;IACnCG,MAAM,CAAC;MACLE,UAAU,EAAEA;IACd,CAAC,CAAC;EACJ,CAAC,CAAC,EAAEtC,eAAe,CAACuB,cAAc,EAAEhB,SAAS,EAAE,YAAY;IACzD,IAAI+B,UAAU,GAAGiB,IAAI,CAACC,GAAG,CAAC,GAAG,EAAEvB,CAAC,GAAG,CAAC,CAAC;IACrCG,MAAM,CAAC;MACLE,UAAU,EAAEA;IACd,CAAC,CAAC;EACJ,CAAC,CAAC,EAAEf,cAAc,CAAC;EAEnB,IAAImC,aAAa,GAAG,SAASA,aAAaA,CAACZ,KAAK,EAAE;IAChD,IAAIa,OAAO,GAAGb,KAAK,CAACa,OAAO;IAE3B,IAAIL,aAAa,CAACK,OAAO,CAAC,EAAE;MAC1Bb,KAAK,CAACc,cAAc,CAAC,CAAC;MACtBN,aAAa,CAACK,OAAO,CAAC,CAAC,CAAC;IAC1B;EACF,CAAC;EAED,IAAIE,WAAW,GAAG,SAASA,WAAWA,CAAA,EAAG;IACvCvC,GAAG,CAAC0B,OAAO,CAACc,KAAK,CAAC,CAAC;EACrB,CAAC;EAED,IAAIC,GAAG,GAAG,MAAM,CAACnB,MAAM,CAACZ,CAAC,EAAE,aAAa,CAAC;EACzC,IAAIgC,UAAU,GAAG;IACfC,UAAU,EAAEF;EACd,CAAC;EACD,IAAIG,YAAY,GAAG;IACjBC,GAAG,EAAE,EAAE,CAACvB,MAAM,CAAC,GAAG,GAAGV,CAAC,EAAE,GAAG,CAAC;IAC5BkC,IAAI,EAAE,EAAE,CAACxB,MAAM,CAACX,CAAC,EAAE,GAAG;EACxB,CAAC;EACD,OAAO/B,KAAK,CAACmE,aAAa,CAACvD,WAAW,EAAE;IACtCQ,GAAG,EAAEO,YAAY;IACjByC,KAAK,EAAEN,UAAU;IACjBO,WAAW,EAAE1B,YAAY;IACzB2B,YAAY,EAAE3B,YAAY;IAC1B4B,SAAS,EAAEf,aAAa;IACxBgB,WAAW,EAAExB,eAAe;IAC5ByB,WAAW,EAAExB,eAAe;IAC5ByB,SAAS,EAAExB,aAAa;IACxByB,YAAY,EAAExB,gBAAgB;IAC9ByB,OAAO,EAAEjB;EACX,CAAC,EAAE3D,KAAK,CAACmE,aAAa,CAACtD,YAAY,EAAE;IACnCO,GAAG,EAAEA,GAAG;IACRmB,IAAI,EAAE,QAAQ;IACdd,QAAQ,EAAEA,QAAQ;IAClB2C,KAAK,EAAEJ;EACT,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AACF,eAAe/C,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}