{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { LEFT_KEY, RIGHT_KEY } from '../../../libs/constants';\nimport { getItemIndex } from '../helpers';\nimport Indicator from './indicator';\nimport StyledIndicatorUl from '../styled/indicatorsUl';\nimport { useChildrenRegister } from '../../../libs/hooks';\nvar RIGHT_SIDE = 1;\nvar LEFT_SIDE = -1;\nvar SELECTOR = '[role=\"tab\"]';\nvar Indicators = function Indicators(props) {\n  var _keyHandlerMap;\n  var carouselChildren = props.carouselChildren,\n    onSelect = props.onSelect,\n    selectedItem = props.selectedItem;\n  var containerRef = useRef();\n  var _useChildrenRegister = useChildrenRegister({\n      containerRef: containerRef,\n      selector: SELECTOR\n    }),\n    indicatorsRefs = _useChildrenRegister.childrenRegistered,\n    register = _useChildrenRegister.register,\n    unregister = _useChildrenRegister.unregister;\n  var setAsSelectedIndicator = function setAsSelectedIndicator(tabIndex) {\n    indicatorsRefs[tabIndex].ref.click();\n    indicatorsRefs[tabIndex].ref.focus();\n  };\n  var selectIndicator = function selectIndicator(side) {\n    var indicatorIndex = getItemIndex(indicatorsRefs, selectedItem);\n    if (indicatorIndex === indicatorsRefs.length - 1 && side === RIGHT_SIDE) {\n      setAsSelectedIndicator(0);\n    } else if (indicatorIndex === 0 && side === LEFT_SIDE) {\n      setAsSelectedIndicator(indicatorsRefs.length - 1);\n    } else {\n      setAsSelectedIndicator(indicatorIndex + side);\n    }\n  };\n  var keyHandlerMap = (_keyHandlerMap = {}, _defineProperty(_keyHandlerMap, RIGHT_KEY, function () {\n    return selectIndicator(RIGHT_SIDE);\n  }), _defineProperty(_keyHandlerMap, LEFT_KEY, function () {\n    return selectIndicator(LEFT_SIDE);\n  }), _keyHandlerMap);\n  var handleKeyPressed = function handleKeyPressed(event) {\n    if (keyHandlerMap[event.keyCode]) {\n      return keyHandlerMap[event.keyCode]();\n    }\n    return null;\n  };\n  return React.createElement(StyledIndicatorUl, {\n    role: \"tablist\",\n    onKeyDown: handleKeyPressed,\n    ref: containerRef\n  }, carouselChildren.map(function (_ref) {\n    var id = _ref.id,\n      containerId = _ref.containerId,\n      header = _ref.header;\n    return React.createElement(Indicator, {\n      id: id,\n      containerId: containerId,\n      header: header,\n      onSelect: onSelect,\n      selectedItem: selectedItem,\n      onCreate: register,\n      onDestroy: unregister,\n      key: id\n    });\n  }));\n};\nIndicators.propTypes = {\n  carouselChildren: PropTypes.array,\n  onSelect: PropTypes.func,\n  selectedItem: PropTypes.string\n};\nIndicators.defaultProps = {\n  carouselChildren: [],\n  onSelect: function onSelect() {},\n  selectedItem: undefined\n};\nexport default Indicators;","map":{"version":3,"names":["_defineProperty","React","useRef","PropTypes","LEFT_KEY","RIGHT_KEY","getItemIndex","Indicator","StyledIndicatorUl","useChildrenRegister","RIGHT_SIDE","LEFT_SIDE","SELECTOR","Indicators","props","_keyHandlerMap","carouselChildren","onSelect","selectedItem","containerRef","_useChildrenRegister","selector","indicatorsRefs","childrenRegistered","register","unregister","setAsSelectedIndicator","tabIndex","ref","click","focus","selectIndicator","side","indicatorIndex","length","keyHandlerMap","handleKeyPressed","event","keyCode","createElement","role","onKeyDown","map","_ref","id","containerId","header","onCreate","onDestroy","key","propTypes","array","func","string","defaultProps","undefined"],"sources":["/home/kali/Desktop/react/React_Shopping_web/node_modules/react-rainbow-components/esm/components/CarouselCard/indicators/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { LEFT_KEY, RIGHT_KEY } from '../../../libs/constants';\nimport { getItemIndex } from '../helpers';\nimport Indicator from './indicator';\nimport StyledIndicatorUl from '../styled/indicatorsUl';\nimport { useChildrenRegister } from '../../../libs/hooks';\nvar RIGHT_SIDE = 1;\nvar LEFT_SIDE = -1;\nvar SELECTOR = '[role=\"tab\"]';\n\nvar Indicators = function Indicators(props) {\n  var _keyHandlerMap;\n\n  var carouselChildren = props.carouselChildren,\n      onSelect = props.onSelect,\n      selectedItem = props.selectedItem;\n  var containerRef = useRef();\n\n  var _useChildrenRegister = useChildrenRegister({\n    containerRef: containerRef,\n    selector: SELECTOR\n  }),\n      indicatorsRefs = _useChildrenRegister.childrenRegistered,\n      register = _useChildrenRegister.register,\n      unregister = _useChildrenRegister.unregister;\n\n  var setAsSelectedIndicator = function setAsSelectedIndicator(tabIndex) {\n    indicatorsRefs[tabIndex].ref.click();\n    indicatorsRefs[tabIndex].ref.focus();\n  };\n\n  var selectIndicator = function selectIndicator(side) {\n    var indicatorIndex = getItemIndex(indicatorsRefs, selectedItem);\n\n    if (indicatorIndex === indicatorsRefs.length - 1 && side === RIGHT_SIDE) {\n      setAsSelectedIndicator(0);\n    } else if (indicatorIndex === 0 && side === LEFT_SIDE) {\n      setAsSelectedIndicator(indicatorsRefs.length - 1);\n    } else {\n      setAsSelectedIndicator(indicatorIndex + side);\n    }\n  };\n\n  var keyHandlerMap = (_keyHandlerMap = {}, _defineProperty(_keyHandlerMap, RIGHT_KEY, function () {\n    return selectIndicator(RIGHT_SIDE);\n  }), _defineProperty(_keyHandlerMap, LEFT_KEY, function () {\n    return selectIndicator(LEFT_SIDE);\n  }), _keyHandlerMap);\n\n  var handleKeyPressed = function handleKeyPressed(event) {\n    if (keyHandlerMap[event.keyCode]) {\n      return keyHandlerMap[event.keyCode]();\n    }\n\n    return null;\n  };\n\n  return React.createElement(StyledIndicatorUl, {\n    role: \"tablist\",\n    onKeyDown: handleKeyPressed,\n    ref: containerRef\n  }, carouselChildren.map(function (_ref) {\n    var id = _ref.id,\n        containerId = _ref.containerId,\n        header = _ref.header;\n    return React.createElement(Indicator, {\n      id: id,\n      containerId: containerId,\n      header: header,\n      onSelect: onSelect,\n      selectedItem: selectedItem,\n      onCreate: register,\n      onDestroy: unregister,\n      key: id\n    });\n  }));\n};\n\nIndicators.propTypes = {\n  carouselChildren: PropTypes.array,\n  onSelect: PropTypes.func,\n  selectedItem: PropTypes.string\n};\nIndicators.defaultProps = {\n  carouselChildren: [],\n  onSelect: function onSelect() {},\n  selectedItem: undefined\n};\nexport default Indicators;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}