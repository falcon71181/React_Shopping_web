{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { useCallback, useEffect, useRef } from 'react';\nimport { UP_KEY, DOWN_KEY, HOME_KEY, END_KEY, ENTER_KEY } from '../../../../libs/constants';\nimport getNewIndex from '../helpers/getNewIndex';\nimport isOptionVisible from '../../../InternalDropdown/helpers/isOptionVisible';\nexport default function useKeyboardNavigation(country, list, ref, scrollableRef, itemsRef, handleCountryChange) {\n  var activeIndex = useRef(0);\n  var length = list.length;\n  var handleActiveChange = useCallback(function (newIndex) {\n    var currentItem = itemsRef.current[activeIndex.current];\n    var newItem = itemsRef.current[newIndex];\n    if (currentItem) {\n      currentItem.setAttribute('aria-selected', false);\n    }\n    if (newItem) {\n      itemsRef.current[newIndex].setAttribute('aria-selected', true);\n      activeIndex.current = newIndex;\n    }\n  }, [itemsRef]);\n  var moveToOption = useCallback(function (newIndex) {\n    var currentItem = itemsRef.current[activeIndex.current];\n    var newItem = itemsRef.current[newIndex];\n    if (currentItem && newItem) {\n      if (!isOptionVisible(newItem, scrollableRef.current)) {\n        var amount = newItem.offsetTop - currentItem.offsetTop;\n        scrollableRef.current.scrollBy(0, amount);\n      }\n      handleActiveChange(newIndex);\n    }\n  }, [handleActiveChange, itemsRef, scrollableRef]);\n  var handleKeyDown = useCallback(function (event) {\n    if ([UP_KEY, DOWN_KEY, ENTER_KEY, HOME_KEY, END_KEY].indexOf(event.keyCode) !== -1) {\n      var _keyHandlerMap;\n      event.preventDefault();\n      var active = activeIndex.current;\n      var keyHandlerMap = (_keyHandlerMap = {}, _defineProperty(_keyHandlerMap, UP_KEY, function () {\n        return moveToOption(getNewIndex(active - 1, length));\n      }), _defineProperty(_keyHandlerMap, DOWN_KEY, function () {\n        return moveToOption(getNewIndex(active + 1, length));\n      }), _defineProperty(_keyHandlerMap, HOME_KEY, function () {\n        return moveToOption(0);\n      }), _defineProperty(_keyHandlerMap, END_KEY, function () {\n        return moveToOption(length - 1);\n      }), _defineProperty(_keyHandlerMap, ENTER_KEY, function () {\n        return list[active] && handleCountryChange(list[active]);\n      }), _keyHandlerMap);\n      keyHandlerMap[event.keyCode]();\n    }\n  }, [handleCountryChange, length, list, moveToOption]);\n  useEffect(function () {\n    var element = ref.current || window;\n    element.addEventListener('keydown', handleKeyDown);\n    return function () {\n      element.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown, ref]);\n  useEffect(function () {\n    handleActiveChange(0);\n    if (scrollableRef.current && scrollableRef.current.scrollTo) {\n      scrollableRef.current.scrollTo(0, 0);\n    }\n    activeIndex.current = 0;\n  }, [country, handleActiveChange, itemsRef, length, scrollableRef]);\n  useEffect(function () {\n    var currentItem = itemsRef.current[activeIndex.current];\n    if (currentItem) {\n      currentItem.setAttribute('aria-selected', true);\n    }\n  });\n  return handleActiveChange;\n}","map":{"version":3,"names":["_defineProperty","useCallback","useEffect","useRef","UP_KEY","DOWN_KEY","HOME_KEY","END_KEY","ENTER_KEY","getNewIndex","isOptionVisible","useKeyboardNavigation","country","list","ref","scrollableRef","itemsRef","handleCountryChange","activeIndex","length","handleActiveChange","newIndex","currentItem","current","newItem","setAttribute","moveToOption","amount","offsetTop","scrollBy","handleKeyDown","event","indexOf","keyCode","_keyHandlerMap","preventDefault","active","keyHandlerMap","element","window","addEventListener","removeEventListener","scrollTo"],"sources":["/home/kali/Desktop/react/React_Shopping_web/node_modules/react-rainbow-components/esm/components/PhoneInput/countriesDropdown/hooks/useKeyboardNavigation.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { useCallback, useEffect, useRef } from 'react';\nimport { UP_KEY, DOWN_KEY, HOME_KEY, END_KEY, ENTER_KEY } from '../../../../libs/constants';\nimport getNewIndex from '../helpers/getNewIndex';\nimport isOptionVisible from '../../../InternalDropdown/helpers/isOptionVisible';\nexport default function useKeyboardNavigation(country, list, ref, scrollableRef, itemsRef, handleCountryChange) {\n  var activeIndex = useRef(0);\n  var length = list.length;\n  var handleActiveChange = useCallback(function (newIndex) {\n    var currentItem = itemsRef.current[activeIndex.current];\n    var newItem = itemsRef.current[newIndex];\n\n    if (currentItem) {\n      currentItem.setAttribute('aria-selected', false);\n    }\n\n    if (newItem) {\n      itemsRef.current[newIndex].setAttribute('aria-selected', true);\n      activeIndex.current = newIndex;\n    }\n  }, [itemsRef]);\n  var moveToOption = useCallback(function (newIndex) {\n    var currentItem = itemsRef.current[activeIndex.current];\n    var newItem = itemsRef.current[newIndex];\n\n    if (currentItem && newItem) {\n      if (!isOptionVisible(newItem, scrollableRef.current)) {\n        var amount = newItem.offsetTop - currentItem.offsetTop;\n        scrollableRef.current.scrollBy(0, amount);\n      }\n\n      handleActiveChange(newIndex);\n    }\n  }, [handleActiveChange, itemsRef, scrollableRef]);\n  var handleKeyDown = useCallback(function (event) {\n    if ([UP_KEY, DOWN_KEY, ENTER_KEY, HOME_KEY, END_KEY].indexOf(event.keyCode) !== -1) {\n      var _keyHandlerMap;\n\n      event.preventDefault();\n      var active = activeIndex.current;\n      var keyHandlerMap = (_keyHandlerMap = {}, _defineProperty(_keyHandlerMap, UP_KEY, function () {\n        return moveToOption(getNewIndex(active - 1, length));\n      }), _defineProperty(_keyHandlerMap, DOWN_KEY, function () {\n        return moveToOption(getNewIndex(active + 1, length));\n      }), _defineProperty(_keyHandlerMap, HOME_KEY, function () {\n        return moveToOption(0);\n      }), _defineProperty(_keyHandlerMap, END_KEY, function () {\n        return moveToOption(length - 1);\n      }), _defineProperty(_keyHandlerMap, ENTER_KEY, function () {\n        return list[active] && handleCountryChange(list[active]);\n      }), _keyHandlerMap);\n      keyHandlerMap[event.keyCode]();\n    }\n  }, [handleCountryChange, length, list, moveToOption]);\n  useEffect(function () {\n    var element = ref.current || window;\n    element.addEventListener('keydown', handleKeyDown);\n    return function () {\n      element.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown, ref]);\n  useEffect(function () {\n    handleActiveChange(0);\n\n    if (scrollableRef.current && scrollableRef.current.scrollTo) {\n      scrollableRef.current.scrollTo(0, 0);\n    }\n\n    activeIndex.current = 0;\n  }, [country, handleActiveChange, itemsRef, length, scrollableRef]);\n  useEffect(function () {\n    var currentItem = itemsRef.current[activeIndex.current];\n\n    if (currentItem) {\n      currentItem.setAttribute('aria-selected', true);\n    }\n  });\n  return handleActiveChange;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}