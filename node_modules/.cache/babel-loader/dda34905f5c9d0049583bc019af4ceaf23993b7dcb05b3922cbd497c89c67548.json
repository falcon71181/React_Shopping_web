{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useMemo, useCallback } from 'react';\nimport { UP_KEY, DOWN_KEY, ENTER_KEY } from '../../../libs/constants';\nimport { findItemIndex, isPrintableCharacter, findItemByKey } from '../utils';\nexport default function useArrowKeyNav(_ref) {\n  var childrenRefs = _ref.childrenRefs,\n    isLoading = _ref.isLoading;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    focusedChildIndex = _useState2[0],\n    setFocusedChildIndex = _useState2[1];\n  var focusChild = useCallback(function (index) {\n    if (isLoading || !childrenRefs[index]) {\n      return null;\n    }\n    setFocusedChildIndex(index);\n    return childrenRefs[index].focus();\n  }, [childrenRefs, isLoading]);\n  var focusMatchedItem = useCallback(function (matchedItem) {\n    var itemIndex = findItemIndex(childrenRefs, matchedItem);\n    return focusChild(itemIndex);\n  }, [childrenRefs, focusChild]);\n  var clearFocusedChild = useCallback(function () {\n    return setFocusedChildIndex(null);\n  }, [setFocusedChildIndex]);\n  var keyHandlerMap = useMemo(function () {\n    var _ref2;\n    return _ref2 = {}, _defineProperty(_ref2, UP_KEY, function () {\n      var nextFocusedChildIndex = focusedChildIndex > 0 ? focusedChildIndex - 1 : childrenRefs.length - 1;\n      setFocusedChildIndex(nextFocusedChildIndex);\n    }), _defineProperty(_ref2, DOWN_KEY, function () {\n      var nextFocusedChildIndex = focusedChildIndex < childrenRefs.length - 1 ? focusedChildIndex + 1 : 0;\n      setFocusedChildIndex(nextFocusedChildIndex);\n    }), _defineProperty(_ref2, ENTER_KEY, function () {\n      var isValidIndex = focusedChildIndex >= 0;\n      if (isValidIndex) {\n        childrenRefs[focusedChildIndex].click();\n      }\n    }), _ref2;\n  }, [childrenRefs, focusedChildIndex]);\n  var processPrintableCharacter = useCallback(function (_char) {\n    var matchedItem = findItemByKey(_char, childrenRefs, focusedChildIndex);\n    if (matchedItem) {\n      focusMatchedItem(matchedItem);\n    }\n  }, [childrenRefs, focusMatchedItem, focusedChildIndex]);\n  var handleKeyPress = useCallback(function (event) {\n    var keyCode = event.keyCode,\n      key = event.key;\n    if (keyHandlerMap[keyCode]) {\n      keyHandlerMap[keyCode]();\n    } else if (isPrintableCharacter(key)) {\n      processPrintableCharacter(key);\n    }\n  }, [keyHandlerMap, processPrintableCharacter]);\n  return {\n    focusedChildIndex: focusedChildIndex,\n    handleKeyPress: handleKeyPress,\n    focusMatchedItem: focusMatchedItem,\n    focusChild: focusChild,\n    clearFocusedChild: clearFocusedChild\n  };\n}","map":{"version":3,"names":["_defineProperty","_slicedToArray","useState","useMemo","useCallback","UP_KEY","DOWN_KEY","ENTER_KEY","findItemIndex","isPrintableCharacter","findItemByKey","useArrowKeyNav","_ref","childrenRefs","isLoading","_useState","_useState2","focusedChildIndex","setFocusedChildIndex","focusChild","index","focus","focusMatchedItem","matchedItem","itemIndex","clearFocusedChild","keyHandlerMap","_ref2","nextFocusedChildIndex","length","isValidIndex","click","processPrintableCharacter","_char","handleKeyPress","event","keyCode","key"],"sources":["/home/kali/Desktop/react/React_Shopping_web/node_modules/react-rainbow-components/esm/components/PrimitiveMenu/hooks/useArrowKeyNav.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useMemo, useCallback } from 'react';\nimport { UP_KEY, DOWN_KEY, ENTER_KEY } from '../../../libs/constants';\nimport { findItemIndex, isPrintableCharacter, findItemByKey } from '../utils';\nexport default function useArrowKeyNav(_ref) {\n  var childrenRefs = _ref.childrenRefs,\n      isLoading = _ref.isLoading;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      focusedChildIndex = _useState2[0],\n      setFocusedChildIndex = _useState2[1];\n\n  var focusChild = useCallback(function (index) {\n    if (isLoading || !childrenRefs[index]) {\n      return null;\n    }\n\n    setFocusedChildIndex(index);\n    return childrenRefs[index].focus();\n  }, [childrenRefs, isLoading]);\n  var focusMatchedItem = useCallback(function (matchedItem) {\n    var itemIndex = findItemIndex(childrenRefs, matchedItem);\n    return focusChild(itemIndex);\n  }, [childrenRefs, focusChild]);\n  var clearFocusedChild = useCallback(function () {\n    return setFocusedChildIndex(null);\n  }, [setFocusedChildIndex]);\n  var keyHandlerMap = useMemo(function () {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, UP_KEY, function () {\n      var nextFocusedChildIndex = focusedChildIndex > 0 ? focusedChildIndex - 1 : childrenRefs.length - 1;\n      setFocusedChildIndex(nextFocusedChildIndex);\n    }), _defineProperty(_ref2, DOWN_KEY, function () {\n      var nextFocusedChildIndex = focusedChildIndex < childrenRefs.length - 1 ? focusedChildIndex + 1 : 0;\n      setFocusedChildIndex(nextFocusedChildIndex);\n    }), _defineProperty(_ref2, ENTER_KEY, function () {\n      var isValidIndex = focusedChildIndex >= 0;\n\n      if (isValidIndex) {\n        childrenRefs[focusedChildIndex].click();\n      }\n    }), _ref2;\n  }, [childrenRefs, focusedChildIndex]);\n  var processPrintableCharacter = useCallback(function (_char) {\n    var matchedItem = findItemByKey(_char, childrenRefs, focusedChildIndex);\n\n    if (matchedItem) {\n      focusMatchedItem(matchedItem);\n    }\n  }, [childrenRefs, focusMatchedItem, focusedChildIndex]);\n  var handleKeyPress = useCallback(function (event) {\n    var keyCode = event.keyCode,\n        key = event.key;\n\n    if (keyHandlerMap[keyCode]) {\n      keyHandlerMap[keyCode]();\n    } else if (isPrintableCharacter(key)) {\n      processPrintableCharacter(key);\n    }\n  }, [keyHandlerMap, processPrintableCharacter]);\n  return {\n    focusedChildIndex: focusedChildIndex,\n    handleKeyPress: handleKeyPress,\n    focusMatchedItem: focusMatchedItem,\n    focusChild: focusChild,\n    clearFocusedChild: clearFocusedChild\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}