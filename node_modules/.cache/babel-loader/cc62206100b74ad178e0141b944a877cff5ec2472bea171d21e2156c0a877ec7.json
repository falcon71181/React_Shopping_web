{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../../Modal';\nimport getFileFieldsOptions from '../helpers/getFileFieldsOptions';\nimport AssignFieldModalTitle from './assignFieldModalTitle';\nimport AssignFieldModalFooter from './assignFieldModalFooter';\nimport SelectedFieldsToAssign from './selectedFieldsToAssign';\nimport Preview from './preview';\nimport StyledModalContainer from './styled/modalContainer';\nimport StyledSelect from './styled/select';\nexport default function AssignFieldModal(props) {\n  var isAssignFieldModalOpen = props.isAssignFieldModalOpen,\n    onRequestClose = props.onRequestClose,\n    columns = props.columns,\n    databaseFieldToAssign = props.databaseFieldToAssign,\n    onAssignField = props.onAssignField,\n    fieldsMap = props.fieldsMap,\n    data = props.data,\n    attributes = props.attributes;\n  var modalTitle = React.createElement(AssignFieldModalTitle, {\n    field: databaseFieldToAssign\n  });\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    fileFieldsOptions = _useState2[0],\n    setFileFieldsOptions = _useState2[1];\n  useEffect(function () {\n    if (fieldsMap[databaseFieldToAssign]) {\n      var options = columns.filter(function (item) {\n        return !fieldsMap[databaseFieldToAssign].split(',').includes(item);\n      });\n      return setFileFieldsOptions(getFileFieldsOptions(options));\n    }\n    return setFileFieldsOptions(getFileFieldsOptions(columns));\n  }, [columns, databaseFieldToAssign, fieldsMap, isAssignFieldModalOpen]);\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    fileFieldsToAssign = _useState4[0],\n    setFileFieldsToAssign = _useState4[1];\n  var isAssignButtonDisabled = fileFieldsToAssign.length === 0;\n  useEffect(function () {\n    if (fieldsMap[databaseFieldToAssign]) {\n      return setFileFieldsToAssign(fieldsMap[databaseFieldToAssign].split(','));\n    }\n    return setFileFieldsToAssign([]);\n  }, [fieldsMap, databaseFieldToAssign, isAssignFieldModalOpen]);\n  var handleAssign = function handleAssign() {\n    onRequestClose();\n    onAssignField(databaseFieldToAssign, fileFieldsToAssign);\n  };\n  var selectFileField = function selectFileField(event) {\n    var value = event.target.value;\n    setFileFieldsOptions(fileFieldsOptions.filter(function (field) {\n      return field.value !== value;\n    }));\n    setFileFieldsToAssign([].concat(_toConsumableArray(fileFieldsToAssign), [value]));\n  };\n  var deleteFileField = function deleteFileField(value) {\n    setFileFieldsOptions([].concat(_toConsumableArray(fileFieldsOptions), [{\n      label: value,\n      value: value\n    }]));\n    setFileFieldsToAssign(fileFieldsToAssign.filter(function (field) {\n      return field !== value;\n    }));\n  };\n  var hasNotFileFieldsToAssign = !fileFieldsToAssign.length;\n  return React.createElement(Modal, {\n    title: modalTitle,\n    isOpen: isAssignFieldModalOpen,\n    size: \"small\",\n    onRequestClose: onRequestClose,\n    footer: React.createElement(AssignFieldModalFooter, {\n      onCancel: onRequestClose,\n      onAssign: handleAssign,\n      isAssignButtonDisabled: isAssignButtonDisabled\n    })\n  }, React.createElement(StyledModalContainer, {\n    hasNotFileFieldsToAssign: hasNotFileFieldsToAssign\n  }, React.createElement(StyledSelect, {\n    label: \"Select Field To Assign\",\n    options: fileFieldsOptions,\n    onChange: selectFileField,\n    value: \"default\"\n  }), React.createElement(SelectedFieldsToAssign, {\n    values: fileFieldsToAssign,\n    onDelete: deleteFileField\n  }), React.createElement(Preview, {\n    field: databaseFieldToAssign,\n    fileFields: fileFieldsToAssign,\n    data: data,\n    attributes: attributes\n  })));\n}\nAssignFieldModal.propTypes = {\n  isAssignFieldModalOpen: PropTypes.bool,\n  onRequestClose: PropTypes.func,\n  columns: PropTypes.array,\n  databaseFieldToAssign: PropTypes.string,\n  onAssignField: PropTypes.func,\n  fieldsMap: PropTypes.object,\n  data: PropTypes.array,\n  attributes: PropTypes.object.isRequired\n};\nAssignFieldModal.defaultProps = {\n  isAssignFieldModalOpen: false,\n  onRequestClose: function onRequestClose() {},\n  columns: [],\n  databaseFieldToAssign: '',\n  onAssignField: function onAssignField() {},\n  fieldsMap: {},\n  data: []\n};","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","React","useState","useEffect","PropTypes","Modal","getFileFieldsOptions","AssignFieldModalTitle","AssignFieldModalFooter","SelectedFieldsToAssign","Preview","StyledModalContainer","StyledSelect","AssignFieldModal","props","isAssignFieldModalOpen","onRequestClose","columns","databaseFieldToAssign","onAssignField","fieldsMap","data","attributes","modalTitle","createElement","field","_useState","_useState2","fileFieldsOptions","setFileFieldsOptions","options","filter","item","split","includes","_useState3","_useState4","fileFieldsToAssign","setFileFieldsToAssign","isAssignButtonDisabled","length","handleAssign","selectFileField","event","value","target","concat","deleteFileField","label","hasNotFileFieldsToAssign","title","isOpen","size","footer","onCancel","onAssign","onChange","values","onDelete","fileFields","propTypes","bool","func","array","string","object","isRequired","defaultProps"],"sources":["/home/kali/Desktop/react/React_Shopping_web/node_modules/react-rainbow-components/esm/components/ImportRecordsFlow/stepThree/assignFieldModal.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../../Modal';\nimport getFileFieldsOptions from '../helpers/getFileFieldsOptions';\nimport AssignFieldModalTitle from './assignFieldModalTitle';\nimport AssignFieldModalFooter from './assignFieldModalFooter';\nimport SelectedFieldsToAssign from './selectedFieldsToAssign';\nimport Preview from './preview';\nimport StyledModalContainer from './styled/modalContainer';\nimport StyledSelect from './styled/select';\nexport default function AssignFieldModal(props) {\n  var isAssignFieldModalOpen = props.isAssignFieldModalOpen,\n      onRequestClose = props.onRequestClose,\n      columns = props.columns,\n      databaseFieldToAssign = props.databaseFieldToAssign,\n      onAssignField = props.onAssignField,\n      fieldsMap = props.fieldsMap,\n      data = props.data,\n      attributes = props.attributes;\n  var modalTitle = React.createElement(AssignFieldModalTitle, {\n    field: databaseFieldToAssign\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      fileFieldsOptions = _useState2[0],\n      setFileFieldsOptions = _useState2[1];\n\n  useEffect(function () {\n    if (fieldsMap[databaseFieldToAssign]) {\n      var options = columns.filter(function (item) {\n        return !fieldsMap[databaseFieldToAssign].split(',').includes(item);\n      });\n      return setFileFieldsOptions(getFileFieldsOptions(options));\n    }\n\n    return setFileFieldsOptions(getFileFieldsOptions(columns));\n  }, [columns, databaseFieldToAssign, fieldsMap, isAssignFieldModalOpen]);\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fileFieldsToAssign = _useState4[0],\n      setFileFieldsToAssign = _useState4[1];\n\n  var isAssignButtonDisabled = fileFieldsToAssign.length === 0;\n  useEffect(function () {\n    if (fieldsMap[databaseFieldToAssign]) {\n      return setFileFieldsToAssign(fieldsMap[databaseFieldToAssign].split(','));\n    }\n\n    return setFileFieldsToAssign([]);\n  }, [fieldsMap, databaseFieldToAssign, isAssignFieldModalOpen]);\n\n  var handleAssign = function handleAssign() {\n    onRequestClose();\n    onAssignField(databaseFieldToAssign, fileFieldsToAssign);\n  };\n\n  var selectFileField = function selectFileField(event) {\n    var value = event.target.value;\n    setFileFieldsOptions(fileFieldsOptions.filter(function (field) {\n      return field.value !== value;\n    }));\n    setFileFieldsToAssign([].concat(_toConsumableArray(fileFieldsToAssign), [value]));\n  };\n\n  var deleteFileField = function deleteFileField(value) {\n    setFileFieldsOptions([].concat(_toConsumableArray(fileFieldsOptions), [{\n      label: value,\n      value: value\n    }]));\n    setFileFieldsToAssign(fileFieldsToAssign.filter(function (field) {\n      return field !== value;\n    }));\n  };\n\n  var hasNotFileFieldsToAssign = !fileFieldsToAssign.length;\n  return React.createElement(Modal, {\n    title: modalTitle,\n    isOpen: isAssignFieldModalOpen,\n    size: \"small\",\n    onRequestClose: onRequestClose,\n    footer: React.createElement(AssignFieldModalFooter, {\n      onCancel: onRequestClose,\n      onAssign: handleAssign,\n      isAssignButtonDisabled: isAssignButtonDisabled\n    })\n  }, React.createElement(StyledModalContainer, {\n    hasNotFileFieldsToAssign: hasNotFileFieldsToAssign\n  }, React.createElement(StyledSelect, {\n    label: \"Select Field To Assign\",\n    options: fileFieldsOptions,\n    onChange: selectFileField,\n    value: \"default\"\n  }), React.createElement(SelectedFieldsToAssign, {\n    values: fileFieldsToAssign,\n    onDelete: deleteFileField\n  }), React.createElement(Preview, {\n    field: databaseFieldToAssign,\n    fileFields: fileFieldsToAssign,\n    data: data,\n    attributes: attributes\n  })));\n}\nAssignFieldModal.propTypes = {\n  isAssignFieldModalOpen: PropTypes.bool,\n  onRequestClose: PropTypes.func,\n  columns: PropTypes.array,\n  databaseFieldToAssign: PropTypes.string,\n  onAssignField: PropTypes.func,\n  fieldsMap: PropTypes.object,\n  data: PropTypes.array,\n  attributes: PropTypes.object.isRequired\n};\nAssignFieldModal.defaultProps = {\n  isAssignFieldModalOpen: false,\n  onRequestClose: function onRequestClose() {},\n  columns: [],\n  databaseFieldToAssign: '',\n  onAssignField: function onAssignField() {},\n  fieldsMap: {},\n  data: []\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}