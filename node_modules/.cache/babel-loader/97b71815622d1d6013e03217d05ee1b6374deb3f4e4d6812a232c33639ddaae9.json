{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { ESCAPE_KEY, ENTER_KEY } from '../../../libs/constants';\nimport RenderIf from '../../RenderIf';\nimport { StyledInput, StyledButtonIcon, StyledSpan, SpanContainer, RelativeInputContainer, StyledEditIcon } from './styled/editableCell';\nimport Cancel from './icons/cancel';\nexport default function EditableCell(props) {\n  var value = props.value,\n    onChange = props.onChange,\n    row = props.row,\n    field = props.field;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isEditMode = _useState2[0],\n    setIsEditMode = _useState2[1];\n  var _useState3 = useState(value),\n    _useState4 = _slicedToArray(_useState3, 2),\n    internalValue = _useState4[0],\n    setInternalValue = _useState4[1];\n  var inputRef = useRef(null);\n  useEffect(function () {\n    if (isEditMode) {\n      inputRef.current.focus();\n    }\n  }, [isEditMode]);\n  var clear = function clear(event) {\n    event.preventDefault();\n    inputRef.current.focus();\n    setInternalValue('');\n  };\n  var handleOnChange = function handleOnChange(event) {\n    setInternalValue(event.target.value);\n  };\n  var fireOnChange = function fireOnChange() {\n    if (value !== internalValue) {\n      onChange({\n        value: internalValue,\n        row: row\n      });\n    }\n    setIsEditMode(false);\n  };\n  var handleOnClick = function handleOnClick() {\n    setIsEditMode(true);\n  };\n  var handleOnKeyDown = function handleOnKeyDown(event) {\n    if (event.keyCode === ESCAPE_KEY) {\n      setInternalValue(value);\n      setIsEditMode(false);\n    }\n    if (event.keyCode === ENTER_KEY) {\n      fireOnChange();\n    }\n  };\n  return React.createElement(React.Fragment, null, React.createElement(RenderIf, {\n    isTrue: !isEditMode\n  }, React.createElement(SpanContainer, {\n    onClick: handleOnClick\n  }, React.createElement(StyledSpan, {\n    title: value\n  }, value), React.createElement(StyledEditIcon, null))), React.createElement(RenderIf, {\n    isTrue: isEditMode\n  }, React.createElement(RelativeInputContainer, null, React.createElement(StyledInput, {\n    value: internalValue,\n    onChange: handleOnChange,\n    ref: inputRef,\n    \"aria-label\": field,\n    onBlur: fireOnChange,\n    onKeyDown: handleOnKeyDown\n  }), React.createElement(StyledButtonIcon, {\n    variant: \"base\",\n    icon: React.createElement(Cancel, null),\n    size: \"medium\",\n    onMouseDown: clear,\n    assistiveText: \"Clear\"\n  }))));\n}\nEditableCell.propTypes = {\n  value: PropTypes.any,\n  row: PropTypes.object,\n  onChange: PropTypes.func,\n  field: PropTypes.string\n};\nEditableCell.defaultProps = {\n  value: undefined,\n  row: {},\n  onChange: function onChange() {},\n  field: undefined\n};","map":{"version":3,"names":["_slicedToArray","React","useRef","useState","useEffect","PropTypes","ESCAPE_KEY","ENTER_KEY","RenderIf","StyledInput","StyledButtonIcon","StyledSpan","SpanContainer","RelativeInputContainer","StyledEditIcon","Cancel","EditableCell","props","value","onChange","row","field","_useState","_useState2","isEditMode","setIsEditMode","_useState3","_useState4","internalValue","setInternalValue","inputRef","current","focus","clear","event","preventDefault","handleOnChange","target","fireOnChange","handleOnClick","handleOnKeyDown","keyCode","createElement","Fragment","isTrue","onClick","title","ref","onBlur","onKeyDown","variant","icon","size","onMouseDown","assistiveText","propTypes","any","object","func","string","defaultProps","undefined"],"sources":["/home/kali/Desktop/react/React_Shopping_web/node_modules/react-rainbow-components/esm/components/Table/body/editableCell.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { ESCAPE_KEY, ENTER_KEY } from '../../../libs/constants';\nimport RenderIf from '../../RenderIf';\nimport { StyledInput, StyledButtonIcon, StyledSpan, SpanContainer, RelativeInputContainer, StyledEditIcon } from './styled/editableCell';\nimport Cancel from './icons/cancel';\nexport default function EditableCell(props) {\n  var value = props.value,\n      onChange = props.onChange,\n      row = props.row,\n      field = props.field;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEditMode = _useState2[0],\n      setIsEditMode = _useState2[1];\n\n  var _useState3 = useState(value),\n      _useState4 = _slicedToArray(_useState3, 2),\n      internalValue = _useState4[0],\n      setInternalValue = _useState4[1];\n\n  var inputRef = useRef(null);\n  useEffect(function () {\n    if (isEditMode) {\n      inputRef.current.focus();\n    }\n  }, [isEditMode]);\n\n  var clear = function clear(event) {\n    event.preventDefault();\n    inputRef.current.focus();\n    setInternalValue('');\n  };\n\n  var handleOnChange = function handleOnChange(event) {\n    setInternalValue(event.target.value);\n  };\n\n  var fireOnChange = function fireOnChange() {\n    if (value !== internalValue) {\n      onChange({\n        value: internalValue,\n        row: row\n      });\n    }\n\n    setIsEditMode(false);\n  };\n\n  var handleOnClick = function handleOnClick() {\n    setIsEditMode(true);\n  };\n\n  var handleOnKeyDown = function handleOnKeyDown(event) {\n    if (event.keyCode === ESCAPE_KEY) {\n      setInternalValue(value);\n      setIsEditMode(false);\n    }\n\n    if (event.keyCode === ENTER_KEY) {\n      fireOnChange();\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(RenderIf, {\n    isTrue: !isEditMode\n  }, React.createElement(SpanContainer, {\n    onClick: handleOnClick\n  }, React.createElement(StyledSpan, {\n    title: value\n  }, value), React.createElement(StyledEditIcon, null))), React.createElement(RenderIf, {\n    isTrue: isEditMode\n  }, React.createElement(RelativeInputContainer, null, React.createElement(StyledInput, {\n    value: internalValue,\n    onChange: handleOnChange,\n    ref: inputRef,\n    \"aria-label\": field,\n    onBlur: fireOnChange,\n    onKeyDown: handleOnKeyDown\n  }), React.createElement(StyledButtonIcon, {\n    variant: \"base\",\n    icon: React.createElement(Cancel, null),\n    size: \"medium\",\n    onMouseDown: clear,\n    assistiveText: \"Clear\"\n  }))));\n}\nEditableCell.propTypes = {\n  value: PropTypes.any,\n  row: PropTypes.object,\n  onChange: PropTypes.func,\n  field: PropTypes.string\n};\nEditableCell.defaultProps = {\n  value: undefined,\n  row: {},\n  onChange: function onChange() {},\n  field: undefined\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}